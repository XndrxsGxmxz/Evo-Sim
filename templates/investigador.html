<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Simulación - Investigador</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-8">

  <nav class="flex justify-between items-center bg-gray-800 p-4 text-white">
    <h1 class="text-lg font-bold">Simulador SIR - Panel del Investigador</h1>
  </nav>

  <div class="max-w-2xl mx-auto bg-white p-6 rounded-2xl shadow-md mt-6">
    <h2 class="text-2xl font-bold mb-4 text-indigo-700 text-center">Simulador SIR - Panel del Investigador</h2>

    <!-- Mostrar mensaje de error -->
    {% if error %}
    <div class="bg-red-100 text-red-700 p-4 rounded mb-4">
      {{ error }}
    </div>
    {% endif %}

    <form method="POST" class="grid grid-cols-2 gap-4">
      <input name="beta" type="number" step="0.01" placeholder="β (tasa de contagio)" value="{{ valores.beta }}" required class="border p-2 rounded">
      <input name="gamma" type="number" step="0.01" placeholder="γ (tasa de recuperación)" value="{{ valores.gamma }}" required class="border p-2 rounded">
      <input name="S0" type="number" placeholder="Susceptibles iniciales" value="{{ valores.S0 }}" required class="border p-2 rounded">
      <input name="I0" type="number" placeholder="Infectados iniciales" value="{{ valores.I0 }}" required class="border p-2 rounded">
      <input name="R0" type="number" placeholder="Recuperados iniciales" value="{{ valores.R0 }}" required class="border p-2 rounded">
      <input name="dias" type="number" placeholder="Días de simulación" value="{{ valores.dias }}" required class="border p-2 rounded col-span-2">
      <input name="delta" type="number" step="0.01" placeholder="δ (tasa de mortalidad)" value="{{ valores.delta }}" required class="border p-2 rounded col-span-2">
      <button type="submit" class="col-span-2 bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700 transition">Simular</button>
    </form>

    {% if imagen %}
      <div class="mt-6 text-center">
        <h3 class="text-lg font-semibold text-gray-700 mb-2">Resultado:</h3>
        <img src="{{ url_for('static', filename='grafico.png') }}" class="mx-auto rounded shadow">
      </div>
    {% endif %}

    <div class="mt-6 text-center">
      <a href="{{ url_for('index') }}" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md transition">Volver al inicio</a>
  </div>

</body>
</html>
